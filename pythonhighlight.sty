\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{pythonhighlight}[2024/01/01 Python syntax highlighting]

% 基于 listings 包的 Python 高亮
\RequirePackage{listings}
\RequirePackage{xcolor}

% 定义 Python 关键字
\lstset{
    language=Python,
    backgroundcolor=\color{white},
    commentstyle=\color{gray},
    keywordstyle=\color{blue},
    numberstyle=\tiny\color{gray},
    stringstyle=\color{red},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    frame=single,
    rulecolor=\color{black}
}

% 定义 Python 环境
\lstnewenvironment{python}[1][]
{
    \lstset{
        language=Python,
        #1
    }
}
{}

% 定义内联 Python 代码
\newcommand{\pythoninline}[1]{\lstinline[language=Python]{#1}}

\endinput 